{"version":3,"file":"9.js","sources":["webpack:///./src/views/login/index.vue?9e05","webpack:///./src/views/login/index.vue?b727","webpack:///./src/views/login/index.vue?4515","webpack:///./src/views/login/index.vue?d794","webpack:///./src/assets/image/login-background.jpg","webpack:///./src/views/login/index.vue","webpack:///./src/views/login/index.vue?95e4","webpack:///./src/views/login/index.vue?d605","webpack:///./src/views/login/index.vue?91b2"],"sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { getCodeImg } from '@/api/login';\nimport Cookies from 'js-cookie';\n\nexport default {\n  name: 'Login',\n  data: function data() {\n    return {\n      codeUrl: '',\n      cookiePassword: '',\n      loginForm: {\n        username: '',\n        password: '',\n        rememberMe: false,\n        code: '',\n        uuid: ''\n      },\n      loginRules: {\n        username: [{ required: true, trigger: 'blur', message: '用户名不能为空' }],\n        password: [{ required: true, trigger: 'blur', message: '密码不能为空' }],\n        code: [{ required: true, trigger: 'change', message: '验证码不能为空' }]\n      },\n      loading: false,\n      redirect: undefined\n    };\n  },\n\n  watch: {\n    $route: {\n      handler: function handler(route) {\n        this.redirect = route.query && route.query.redirect;\n      },\n      immediate: true\n    }\n  },\n  created: function created() {\n    this.getCode();\n    this.getCookie();\n  },\n\n  methods: {\n    getCode: function getCode() {\n      var _this = this;\n\n      getCodeImg().then(function (res) {\n        _this.codeUrl = 'data:image/gif;base64,' + res.data.data.img;\n        _this.loginForm.uuid = res.data.data.uuid;\n      });\n    },\n    getCookie: function getCookie() {\n      var username = Cookies.get('username');\n      var password = Cookies.get('password');\n      var rememberMe = Cookies.get('rememberMe');\n      this.loginForm = {\n        username: username === undefined ? this.loginForm.username : username,\n        password: password === undefined ? this.loginForm.password : password,\n        rememberMe: rememberMe === undefined ? false : Boolean(rememberMe)\n      };\n    },\n    handleLogin: function handleLogin() {\n      var _this2 = this;\n\n      this.$refs.loginForm.validate(function (valid) {\n        if (valid) {\n          _this2.loading = true;\n          if (_this2.loginForm.rememberMe) {\n            Cookies.set('username', _this2.loginForm.username, { expires: 30 });\n            Cookies.set('password', _this2.loginForm.password, { expires: 30 });\n            Cookies.set('rememberMe', _this2.loginForm.rememberMe, { expires: 30 });\n          } else {\n            Cookies.remove('username');\n            Cookies.remove('password');\n            Cookies.remove('rememberMe');\n          }\n          _this2.$store.dispatch('LoginByUsername', _this2.loginForm).then(function () {\n            _this2.loading = false;\n            _this2.$router.push({ path: _this2.redirect || '/' });\n          }).catch(function (response) {\n            _this2.$notify.error({\n              title: '失败',\n              message: response.data.errmsg\n            });\n            _this2.loading = false;\n            _this2.getCode();\n          });\n        }\n      });\n    }\n  }\n};","var escape = require(\"../../../node_modules/css-loader/lib/url/escape.js\");\nexports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".login {\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-pack: center;\\n      -ms-flex-pack: center;\\n          justify-content: center;\\n  -webkit-box-align: center;\\n      -ms-flex-align: center;\\n          align-items: center;\\n  height: 100%;\\n  background-image: url(\" + escape(require(\"@/assets/image/login-background.jpg\")) + \");\\n  background-size: cover;\\n}\\n.title {\\n  margin: 0px auto 30px auto;\\n  text-align: center;\\n  color: #707070;\\n}\\n.login-form {\\n  border-radius: 6px;\\n  background: #ffffff;\\n  width: 400px;\\n  padding: 25px 25px 5px 25px;\\n}\\n.login-form .el-input {\\n    height: 38px;\\n}\\n.login-form .el-input input {\\n      height: 38px;\\n}\\n.login-form .input-icon {\\n    height: 39px;\\n    width: 14px;\\n    margin-left: 2px;\\n}\\n.login-tip {\\n  font-size: 13px;\\n  text-align: center;\\n  color: #bfbfbf;\\n}\\n.login-code {\\n  width: 33%;\\n  height: 38px;\\n  float: right;\\n}\\n.login-code img {\\n    cursor: pointer;\\n    vertical-align: middle;\\n}\\n.el-login-footer {\\n  height: 40px;\\n  line-height: 40px;\\n  position: fixed;\\n  bottom: 0;\\n  width: 100%;\\n  text-align: center;\\n  color: #fff;\\n  font-family: Arial;\\n  font-size: 12px;\\n  letter-spacing: 1px;\\n}\\n\", \"\"]);\n\n// exports\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login\"},[_c('el-form',{ref:\"loginForm\",staticClass:\"login-form\",attrs:{\"model\":_vm.loginForm,\"rules\":_vm.loginRules}},[_c('h3',{staticClass:\"title\"},[_vm._v(\"聚惠星管理系统\")]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"username\"}},[_c('el-input',{attrs:{\"type\":\"text\",\"auto-complete\":\"off\",\"placeholder\":\"账号\"},model:{value:(_vm.loginForm.username),callback:function ($$v) {_vm.$set(_vm.loginForm, \"username\", $$v)},expression:\"loginForm.username\"}},[_c('svg-icon',{staticClass:\"el-input__icon input-icon\",attrs:{\"slot\":\"prefix\",\"icon-class\":\"user\"},slot:\"prefix\"})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"auto-complete\":\"off\",\"placeholder\":\"密码\"},nativeOn:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.handleLogin($event)}},model:{value:(_vm.loginForm.password),callback:function ($$v) {_vm.$set(_vm.loginForm, \"password\", $$v)},expression:\"loginForm.password\"}},[_c('svg-icon',{staticClass:\"el-input__icon input-icon\",attrs:{\"slot\":\"prefix\",\"icon-class\":\"password\"},slot:\"prefix\"})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"code\"}},[_c('el-input',{staticStyle:{\"width\":\"63%\"},attrs:{\"auto-complete\":\"off\",\"placeholder\":\"验证码\"},nativeOn:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.handleLogin($event)}},model:{value:(_vm.loginForm.code),callback:function ($$v) {_vm.$set(_vm.loginForm, \"code\", $$v)},expression:\"loginForm.code\"}},[_c('svg-icon',{staticClass:\"el-input__icon input-icon\",attrs:{\"slot\":\"prefix\",\"icon-class\":\"validCode\"},slot:\"prefix\"})],1),_vm._v(\" \"),_c('div',{staticClass:\"login-code\"},[_c('img',{attrs:{\"src\":_vm.codeUrl},on:{\"click\":_vm.getCode}})])],1),_vm._v(\" \"),_c('el-checkbox',{staticStyle:{\"margin\":\"0px 0px 25px 0px\"},model:{value:(_vm.loginForm.rememberMe),callback:function ($$v) {_vm.$set(_vm.loginForm, \"rememberMe\", $$v)},expression:\"loginForm.rememberMe\"}},[_vm._v(\"记住密码\")]),_vm._v(\" \"),_c('el-form-item',{staticStyle:{\"width\":\"100%\"}},[_c('el-button',{staticStyle:{\"width\":\"100%\"},attrs:{\"loading\":_vm.loading,\"size\":\"medium\",\"type\":\"primary\"},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.handleLogin($event)}}},[(!_vm.loading)?_c('span',[_vm._v(\"登 录\")]):_c('span',[_vm._v(\"登 录 中...\")])])],1)],1),_vm._v(\" \"),_vm._m(0)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"el-login-footer\"},[_c('span',[_vm._v(\"Copyright © 2020-2030 聚惠星版权所有.\")])])}]\n\nexport { render, staticRenderFns }","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js??ref--11-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--11-2!../../../node_modules/sass-loader/lib/loader.js??ref--11-3!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&rel=stylesheet%2Fscss&lang=scss&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"761fb3b7\", content, true, {});","module.exports = __webpack_public_path__ + \"static/img/login-background.d00e9c4.jpg\";","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=68087b84&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&rel=stylesheet%2Fscss&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"index.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/babel-loader/lib/index.js?cacheDirectory!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js?cacheDirectory!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import mod from \"-!../../../node_modules/vue-style-loader/index.js!../../../node_modules/css-loader/index.js??ref--11-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--11-2!../../../node_modules/sass-loader/lib/loader.js??ref--11-3!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&rel=stylesheet%2Fscss&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/vue-style-loader/index.js!../../../node_modules/css-loader/index.js??ref--11-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/lib/index.js??ref--11-2!../../../node_modules/sass-loader/lib/loader.js??ref--11-3!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&rel=stylesheet%2Fscss&lang=scss&\"","export * from \"-!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=template&id=68087b84&\""],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AC/IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AACA;AACA;;;;;;;;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACRA;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACpBA;AAAA;AAAA;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;A","sourceRoot":""}